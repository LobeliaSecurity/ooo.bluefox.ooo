(()=>{"use strict";window.BlueFox=class{constructor(t){this.version="1.0.0.ninja",this.burrow=t,this.push=[],this.sleep=t=>new Promise((e=>setTimeout(e,t))),this.getProperty=(t,e)=>{let r=t.split(".")[0],o=t.split(".").slice(1).join(".");if(null!=e[r]){let t=this.getProperty(o,e[r]);return t?.found?{object:e,property:r}:t}return t==o?{found:!0}:{found:!1}},this.actionHandler={set:async t=>{let e=document.querySelector(t.target);if(e){if(t.property)for(let r in t.property){let o=this.getProperty(r,e);o.object&&(o.object[o.property]=t.property[r])}if(t.attribute)for(let r in t.attribute)e.setAttribute(r,t.attribute[r])}},eval:async t=>{let e=document.querySelector(t.target);if(e&&t.property)for(let r in t.property){let o=this.getProperty(r,e);o.object&&o.object[o.property](t.property[r])}},sleep:async t=>{await this.sleep(t.target)},event:async t=>{document.querySelector(t.target).dispatchEvent(new window[t.eventObject](t.eventType,t.eventArgs))},push:async t=>{let e=document.querySelector(t.target);if(e){let r={target:t.target};if(t.property){let o={};for(let r in t.property){let t=this.getProperty(r,e);t.object&&(o[r]=t.object[t.property])}Object.assign(r,{property:o})}if(t.attribute){let o={};for(let r in t.attribute)o[r]=e.getAttribute(r);Object.assign(r,{attribute:o})}this.push.push(r)}},ret:async t=>{try{await fetch(this.burrow,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.push)}),this.push=[]}catch{}}}}async do(t){for(let e of t.actions)await this.actionHandler[e.type](e)}}})();